/* 
 Copyright 2022 Google LLC All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/

-- gcp_billing
-- This table will be automatically generated by the GCP billing export job

-- azure_billing
--This table will depend on the Azure export file, basically you can use the autodetect flag in BQ to load this table or modify the provided schema with your own

-- aws_billing
-- This table will depend on the AWS export file, basically you can use the autodetect flag in BQ to load this table or modify the provided schema with your own


-- unified_list

CREATE TABLE `projectid.cloud_cost_staging.unified_list`
(
  cloud_provider_id INT64 NOT NULL,
  invoice_id STRING,
  billing_account_id STRING,
  billing_start_date TIMESTAMP,
  billing_end_date TIMESTAMP,
  usage_start_time TIMESTAMP,
  usage_end_time TIMESTAMP,
  resource_location_id STRING,
  region_id STRING,
  project_id STRING,
  project_name STRING,
  service_id STRING,
  charge_id STRING,
  charge_description STRING,
  product_name STRING,
  cost FLOAT64,
  currency STRING,
  charge_type STRING,
  usage_quantity FLOAT64,
  usage_unit_of_measure STRING,
  service_category STRING,
  service_type STRING
  loading_date DATE
)
PARTITION BY DATE(_PARTITIONTIME);


-- service_compare

 CREATE TABLE `projectid.cloud_cost_staging.service_compare`
(
  cloud_provider STRING,  
  service_category STRING,
  service_type STRING,
  product STRING
);


